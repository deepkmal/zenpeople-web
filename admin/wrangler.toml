name = "zenpeople-admin"
main = ".open-next/worker.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# Environment variables (secrets set in Cloudflare dashboard)
# PAYLOAD_SECRET - JWT secret
# RESEND_API_KEY - Resend API key
# RESEND_FROM_EMAIL - From email address
# R2_ACCESS_KEY_ID - R2 access key
# R2_SECRET_ACCESS_KEY - R2 secret key
# R2_ENDPOINT - R2 endpoint URL

[vars]
PAYLOAD_PUBLIC_SERVER_URL = "https://admin.zenpeople.com"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "zenpeople-db"
database_id = "434bc8ec-7465-48f6-a756-9610d91fe8ab"

# R2 Bucket for resumes
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "zenpeople-resumes"

# Assets
[assets]
directory = ".open-next/assets"
binding = "ASSETS"
